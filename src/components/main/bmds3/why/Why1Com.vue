<template>
  <div class="">
    <div class="d-flex justify-content-end align-items-center">
      <div style="color: gray; font-size: 1rem; margin-right: 0.5rem">
        Business Model Design Solution
      </div>
      <div style="margin-right: 1rem">
        <img src="@/assets/bmds3/í‘ë°± ë¡œê³ .png" />
      </div>
    </div>
    <div class="d-flex justify-content-start" style="height: 5rem">
      <div class="d-flex" style="margin-left: 1rem">
        <div style="
            font-size: 5.5rem;
            width: 6rem;
            color: rgba(236, 226, 238, 1);
            margin: -1.7rem 0.5rem 0px -5.5rem;
          ">
          01
        </div>
        <div class="d-flex flex-column">
          <div style="font-size: 1rem">Market Insight</div>
          <div style="font-size: 2rem; color: rgb(199, 121, 196)">
            1) ì‹œì¥ ì •ì˜
          </div>
        </div>
      </div>
    </div>
    <div>
      <div class="mb-4" style="
          width: 81rem;
          height: 2.5rem;
          border-radius: 7px;
          background: rgba(236, 226, 238, 1);
        ">
        <div style="font-size: 17px; margin-left: 39px; line-height: 37px">
          ì œí’ˆ(ì„œë¹„ìŠ¤)ì˜ ì‹œì¥ì— ëŒ€í•´ ê°„ëµíˆ ì„œìˆ í•˜ê³ , í•´ë‹¹ ì‹œì¥ì˜ ì‹œì¥ ê·œëª¨ì™€
          ì‹œì¥ì˜ ì„±ì¥ì„±ì„ íŒŒì•…í•©ë‹ˆë‹¤.
        </div>
      </div>
    </div>

    <div style="width: 81rem; height: 38.5rem">
      <!-- ì‹œì¥ ê°œìš” ì…ë ¥ ë¶€ë¶„ -->
      <div class="d-flex flex-column justify-content-between align-items-start"
        style="width: 100%; height: 6rem; border: 1px solid #a84ea4">
        <div class="overview-title" style="font-size: 1rem; margin: 10px 0 0 15px">
          â—ì‹œì¥ ê°œìš”
        </div>
        <textarea style="
            width: 100%;
            height: 4.5rem;
            border: none;
            outline: none;
            resize: none;
          " v-model="marketInsight.why_market_overview" placeholder="ì‹œì¥ ê°œìš”ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
      </div>

      <!-- ì´ë¯¸ì§€ ë° ì…ë ¥ í¼ ë¶€ë¶„ -->
      <div class="tam-sam-som">
        <div class="definition-title" style="margin: 20px 0 0 30px">
          â—TAM-SAM-SOM ì •ì˜
        </div>
        <div class="circle-container">
          <div class="col-4">
            <div class="circle-box-content">
              <span class="label label-tam">TAM</span>
              <div class="middle-circle">
                <span class="label label-sam">SAM</span>
                <div class="small-circle">
                  <span class="label label-som">SOM</span>
                </div>
              </div>
            </div>
          </div>

          <div class="input-section col-6">
            <div class="row" style="height: 33.3%">
              <label for="tam_num">
                <span>ì‹œì¥ê·œëª¨</span><input type="number" v-model="marketInsight.why_tam_size"
                  placeholder="ex: 300,000,000,000" />
              </label>
              <label for="tam_txt">
                <span style="font-size: 1.2rem">ì „ì²´ ì‹œì¥ ì •ì˜</span><input type="text" v-model="marketInsight.why_tam_name"
                  placeholder="ex: ê¸€ë¡œë²Œ í—¬ìŠ¤ì¼€ì–´ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹œì¥" />
              </label>
            </div>
            <div class="row" style="height: 33.3%">
              <label for="sam_num">
                <span>ì‹œì¥ê·œëª¨</span><input type="number" v-model="marketInsight.why_sam_size"
                  placeholder="ex: 30,000,000,000" />
              </label>
              <label for="sam_txt">
                <span>ìœ íš¨ ì‹œì¥ ì •ì˜</span><input type="text " v-model="marketInsight.why_sam_name"
                  placeholder="ex: í—¬ìŠ¤ì¼€ì–´ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹œì¥" />
              </label>
            </div>
            <!--  -->
            <div class="row" style="height: 33.3%">
              <label for="som_num">
                <span>ì‹œì¥ê·œëª¨</span><input type="number" v-model="marketInsight.why_som_size"
                  placeholder="ex: 3,000,000,000" />
              </label>
              <label for="som_txt">
                <span>ìˆ˜ìµ ì‹œì¥ ì •ì˜</span><input type="text" v-model="marketInsight.why_som_name"
                  placeholder="ex: ë§Œë³´ê¸° ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹œì¥" />
              </label>
            </div>
            <!--  -->
          </div>
        </div>
      </div>

      <!-- ê°€ë¡œ ë°°ì¹˜ ì…ë ¥ í¼ ë¶€ë¶„ -->
      <div style="font-size: 1rem; margin: 20px 0 15px 15px">
        â—íƒ€ê²Ÿì‹œì¥ ì„¤ì •
      </div>
      <div class="horizontal-inputs">
        <div class="icon-input-container" style="border: 1px solid #a84ea4">
          <div class="d-flex justify-content-center align-items-center" style="width: 4rem; height: 4rem">
            <i class="icon">ğŸ”</i>
          </div>
          <div class="input-container">
            <div class="input-label">ì‹œì¥ ì •ì˜</div>
            <input type="text" style="font-size: 15px; width: 19rem; height: 3rem" v-model="marketInsight.why_set_def" />
          </div>
        </div>
        <div class="icon-input-container" style="border: 1px solid #a84ea4">
          <div class="d-flex justify-content-center align-items-center" style="width: 4rem; height: 4rem">
            <i class="icon">ğŸ”</i>
          </div>
          <div class="input-container">
            <div class="input-label">ì‹œì¥ ê·œëª¨</div>
            <input type="number" style="font-size: 15px; width: 13rem; height: 3rem"
              v-model="marketInsight.why_set_size" />
          </div>
        </div>
        <div class="icon-input-container" style="border: 1px solid #a84ea4">
          <div class="d-flex justify-content-center align-items-center" style="width: 4rem; height: 4rem">
            <i class="icon">ğŸ”</i>
          </div>
          <div class="input-container">
            <div class="input-label">ì‹œì¥ ë¶„ë¥˜</div>
            <input type="text" style="font-size: 15px; width: 13rem; height: 3rem"
              v-model="marketInsight.why_set_category" />
          </div>
        </div>
        <div class="icon-input-container" style="border: 1px solid #a84ea4">
          <div class="d-flex justify-content-center align-items-center" style="width: 4rem; height: 4rem">
            <i class="icon">ğŸ”</i>
          </div>
          <div class="input-container">
            <div class="input-label">í‰ê·  ì„±ì¥ë¥ </div>
            <input type="number" style="font-size: 15px; width: 13rem; height: 3rem"
              v-model="marketInsight.why_set_growth" />%
          </div>
        </div>
      </div>
    </div>
    <div>
      <button class="btn btn-sm btn-primary" style="float: right; margin-top: 2.5rem;" @click="insightSave">
        ì„ì‹œì €ì¥
      </button>
    </div>
  </div>
</template>

<script>
import BMDSService from "@/services/main/BMDSService";
/* eslint-disable */

export default {
  data() {
    return {
      marketInsight: {
        why_market_overview: "",
        why_tam_name: "",
        why_tam_size: null,
        why_sam_name: "",
        why_sam_size: null,
        why_som_name: "",
        why_som_size: null,
        why_set_def: "",
        why_set_size: null,
        why_set_category: "",
        why_set_growth: null,
      },
    };
  },
  methods: {
    getInsight(id) {
      BMDSService.getWhy1com(id)
        .then((res) => {
          this.marketInsight = res.data;
        })
        .catch((e) => {
          console.log(e);
        });
    },
    insightSave() {
      if (confirm("ì €ì¥í•˜ì‹œê² ìŠµë‹ˆê¹Œ?") == true) {
        var data = {
          why_market_overview: this.marketInsight.why_market_overview,
          why_tam_name: this.marketInsight.why_tam_name,
          why_tam_size: parseInt(this.marketInsight.why_tam_size),
          why_sam_name: this.marketInsight.why_sam_name,
          why_sam_size: parseInt(this.marketInsight.why_sam_size),
          why_som_name: this.marketInsight.why_som_name,
          why_som_size: parseInt(this.marketInsight.why_som_size),
          why_set_def: this.marketInsight.why_set_def,
          why_set_size: parseInt(this.marketInsight.why_set_size),
          why_set_category: this.marketInsight.why_set_category,
          why_set_growth: this.marketInsight.why_set_growth,
        };
        BMDSService.createWhy1com(this.$route.params.id, data)
          .then((res) => {
            if (!alert("ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.")) {
              console.log(res);
            }
          })
          .catch((e) => {
            console.log(e);
          });
      }
    },
  },
  mounted() {
    this.getInsight(this.$route.params.id);
  },
};
</script>

<style scoped>
.pink-box {
  background-color: #ece2ee;
  padding: 1rem;
  margin: 1rem 0;
}

.circle-box-content {
  width: 20rem;
  height: 20rem;
  border-radius: 50%;
  background-color: #a84ea4;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  position: relative;
}

.middle-circle {
  width: 14rem;
  height: 14rem;
  border-radius: 50%;
  background-color: #c179be;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  position: relative;
}

.small-circle {
  width: 8rem;
  height: 8rem;
  border-radius: 50%;
  background-color: #d19bce;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.label {
  position: absolute;
  color: white;
  font-weight: bold;
}

.label-tam {
  top: 5px;
  left: 50%;
  transform: translateX(-50%);
}

.label-sam {
  top: 5px;
  left: 50%;
  transform: translateX(-50%);
}

.label-som {
  position: relative;
  color: white;
  font-weight: bold;
}

.col-6 label {
  display: flex;
  /* label ë‚´ì˜ ìš”ì†Œë“¤ì„ ê°€ë¡œë¡œ ë°°ì—´í•©ë‹ˆë‹¤. */
  align-items: center;
  /* ì„¸ë¡œ ë°©í–¥ìœ¼ë¡œ ì¤‘ì•™ ì •ë ¬í•©ë‹ˆë‹¤. */
  justify-content: space-between;
  /* ë¼ë²¨ê³¼ ì…ë ¥ ì‚¬ì´ì˜ ìµœëŒ€ ê°„ê²©ì„ í™•ë³´í•©ë‹ˆë‹¤. */
  margin-bottom: 10px;
  /* ê° label ê°„ì˜ ì—¬ë°±ì„ ì œê³µí•©ë‹ˆë‹¤. */
}

.col-6 label span {
  margin-right: 10px;
  /* spanê³¼ input ì‚¬ì´ì— ì•½ê°„ì˜ ì—¬ë°±ì„ ì œê³µí•©ë‹ˆë‹¤. */
}

.col-6 label input {
  width: 70%;
  /* inputì˜ í­ì„ ì¡°ì ˆí•©ë‹ˆë‹¤. í•„ìš”ì— ë”°ë¼ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤. */
  font-size: 1rem;
  /* inputì˜ í°íŠ¸ í¬ê¸°ë¥¼ ë¶€ëª¨ì¸ labelì˜ í°íŠ¸ í¬ê¸°ì™€ ë™ì¼í•˜ê²Œ ì„¤ì •í•©ë‹ˆë‹¤. */
  border: none;
}

.title-text {
  font-size: 1rem;
}

.title-text h1 {
  color: #a84ea4;
}

.pink-box {
  font-size: 1rem;
}

.market-overview {
  border: 1px solid #a84ea4;
}

.market-overview textarea {
  border: none;
  outline: none;
}

.definition-title {
  width: 100%;
  height: 2rem;
  font-size: 1rem;
}

.input-section label span {
  color: #a84ea4;
}

.input-section label span {
  font-size: 1.2rem;
}

.horizontal-inputs {
  display: flex;
}

.horizontal-inputs>div {
  border: 1px solid #a84ea4;
  box-sizing: border-box;
  /* borderì™€ paddingì„ í¬í•¨í•œ ì „ì²´ ë„ˆë¹„ë¥¼ ì •ì˜ */
  margin-right: 10px;
}

.horizontal-inputs>div:last-child {
  margin-right: 0;
  /* ë§ˆì§€ë§‰ ì»¨í…Œì´ë„ˆëŠ” ì˜¤ë¥¸ìª½ ë§ˆì§„ì„ ì—†ì• ì¤Œ */
}

.horizontal-inputs>div:nth-child(1) {
  flex: 4;
  /* ì²« ë²ˆì§¸ í•­ëª© (ì‹œì¥ì •ì˜)ì— ëŒ€í•œ flex ê°’ì„ 4ë¡œ ì„¤ì • */
}

.horizontal-inputs>div:nth-child(n + 2) {
  flex: 3;
  /* ë‘ ë²ˆì§¸, ì„¸ ë²ˆì§¸, ë„¤ ë²ˆì§¸ í•­ëª©ë“¤ì— ëŒ€í•œ flex ê°’ì„ 3ìœ¼ë¡œ ì„¤ì • */
}

.horizontal-inputs input {
  width: 100%;
  /* ë¶€ëª¨ ìš”ì†Œì˜ ì „ì²´ ë„ˆë¹„ ì‚¬ìš© */
  padding: 5px;
  /* í¸ì˜ë¥¼ ìœ„í•œ íŒ¨ë”© ì¶”ê°€ */
  margin: 0;
  /* marginì„ 0ìœ¼ë¡œ ì„¤ì • */
  box-sizing: border-box;
  /* borderì™€ paddingì„ í¬í•¨í•œ ì „ì²´ ë„ˆë¹„ë¥¼ ì •ì˜ */
}

.icon-input-container {
  display: flex;
  align-items: center;
  border: 1px solid #a84ea4;
  padding: 5px;
  box-sizing: border-box;
}

.icon {
  margin-right: 5px;
}

.icon-input-container input {
  flex-grow: 1;
  border: none;
  outline: none;
}

.input-container {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.input-label {
  font-size: 1rem;
}

.input-container input {
  padding: 5px;
  /* ë‚´ë¶€ ì—¬ë°± ì„¤ì • */
  box-sizing: border-box;
  /* paddingê³¼ borderë¥¼ ì „ì²´ í¬ê¸°ì— í¬í•¨ */
  background-color: #f0f0f0;
  /* íšŒìƒ‰ ë°°ê²½ìƒ‰ ì„¤ì • */
  font-size: 1.5rem;
}

.tam-sam-som {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.circle-container {
  width: 100%;
  display: flex;
  justify-content: flex-end;
}
</style>
